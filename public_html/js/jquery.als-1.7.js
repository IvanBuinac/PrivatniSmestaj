!function(a){function e(a){if("string"==typeof a){var b=a.indexOf("_");b!=-1&&(a=a.substr(b+1))}return a}function f(c,d){c.preventDefault(),void 0===d&&(d=a(this));var f=e(d.attr("data-id")),g=b[f];g.next.off(),g.prev.off(),g.viewport.off("touchend"),"yes"===g.options.autoscroll&&a.fn.als("stop",f),a.fn.als("next",f),"yes"===g.options.autoscroll&&a.fn.als("start",f)}function g(c,d){c.preventDefault(),void 0===d&&(d=a(this));var f=e(d.attr("data-id")),g=b[f];g.prev.off(),g.next.off(),g.viewport.off("touchend"),"yes"===g.options.autoscroll&&a.fn.als("stop",f),a.fn.als("prev",f),"yes"===g.options.autoscroll&&a.fn.als("start",f)}var b=[],c=0,d={init:function(d){this.each(function(){var e={visible_items:3,scrolling_items:1,orientation:"horizontal",circular:"no",autoscroll:"no",interval:4e3,speed:600,easing:"swing",direction:"left",start_from:0},h=a(this),i=h.data("als"),j=a(),k=a(),l=a(),m=a(),n=a(),o=a(),p=0,q=0,s=0,t=0,u=0,v=0,w=0,x=0,y=0,z=0,A=0,B=0,C={};switch(C.swipeTreshold=100,C.allowedTime=300,j=a.extend(e,d),"no"==j.circular&&"yes"==j.autoscroll&&(j.circular="yes"),"linear"==j.easing&&"swing"==j.easing||(j.easing="swing"),h.attr("id")&&""!=h.attr("id")||h.attr("id","als-container_"+c),h.attr("data-id","als-container_"+c),m=h.find(".als-viewport").attr("data-id","als-viewport_"+c),l=h.find(".als-wrapper").attr("data-id","als-wrapper_"+c),k=h.find(".als-item"),p=k.size(),j.visible_items>p&&(j.visible_items=p-1),j.scrolling_items>j.visible_items&&(j.visible_items>1?j.scrolling_items=j.visible_items-1:1===j.visible_items&&(j.scrolling_items=j.visible_items)),j.start_from>p-j.visible_items&&(j.start_from=0),n=h.find(".als-prev").attr("data-id","als-prev_"+c),o=h.find(".als-next").attr("data-id","als-next_"+c),j.orientation){case"horizontal":default:if(k.each(function(b){a(this).attr("id","als-item_"+c+"_"+b),s+=a(this).outerWidth(!0),a(this).outerHeight(!0)>w&&(w=a(this).outerHeight(!0)),y<j.visible_items&&(0==j.start_from?(q+=a(this).outerWidth(!0),y++):b>=j.start_from&&(q+=a(this).outerWidth(!0),y++)),0!=j.start_from&&(z<j.start_from&&(v+=a(this).outerWidth(!0),z++),A=j.start_from)}),l.css("width",s),k.css("left",-v),m.css("width",q),l.css("height",w),m.css("height",w),"yes"==j.circular&&0!=j.start_from)for(r=0;r<j.start_from;r++){var D=k.last().position(),E=D.left+k.last().outerWidth(!0);k.eq(r).css("left",E)}break;case"vertical":if(k.each(function(b){a(this).attr("id","als-item_"+c+"_"+b),u+=a(this).outerHeight(!0),a(this).outerWidth(!0)>x&&(x=a(this).outerWidth(!0)),y<j.visible_items&&(0==j.start_from?(t+=a(this).outerHeight(!0),y++):b>=j.start_from&&(t+=a(this).outerHeight(!0),y++)),0!=j.start_from&&(z<j.start_from&&(v+=a(this).outerHeight(!0),z++),A=j.start_from)}),l.css("height",u),k.css("top",-v),m.css("height",t),l.css("width",x),m.css("width",x),"yes"==j.circular&&0!=j.start_from)for(r=0;r<j.start_from;r++){var D=k.last().position(),F=D.top+k.last().outerHeight(!0);k.eq(r).css("top",F)}}return"no"==j.circular&&(0==j.start_from&&n.css("display","none"),j.visible_items+j.start_from==p&&o.css("display","none")),o.on("click touchstart touchend",f),n.on("click touchstart touchend",g),m.on("touchstart",function(a){if(void 0==a.originalEvent.touches)var b=a;else var b=a.originalEvent.touches[0]||a.originalEvent.changedTouches[0];C.ox=b.pageX,C.oy=b.pageY,C.startTime=(new Date).getTime()}),m.on("touchmove",function(a){}),m.on("touchend",function(a){if(void 0==a.originalEvent.touches)var b=a;else var b=a.originalEvent.touches[0]||a.originalEvent.changedTouches[0];C.dx=b.pageX-C.ox,C.dy=b.pageY-C.oy,C.endTime=(new Date).getTime()-C.startTime,"horizontal"==j.orientation?C.dx<-C.swipeTreshold&&C.endTime<C.allowedTime?("yes"==j.circular||j.visible_items+j.start_from<p)&&f(a,m):C.dx>C.swipeTreshold&&C.endTime<C.allowedTime&&("yes"==j.circular||j.start_from>0)&&g(a,m):C.dy<-C.swipeTreshold&&C.endTime<C.allowedTime?("yes"==j.circular||j.visible_items+j.start_from<p)&&f(a,m):C.dy>C.swipeTreshold&&C.endTime<C.allowedTime&&("yes"==j.circular||j.start_from>0)&&g(a,m)}),h.data("als",{container:h,instance:c,options:j,viewport:m,wrapper:l,prev:n,next:o,item:k,num_items:p,wrapper_width:s,viewport_width:q,wrapper_height:u,viewport_height:t,current:A,timer:B,mm:C}),i=h.data("als"),b[c]=i,"yes"==j.autoscroll?(a.fn.als("start",c),l.hover(function(){a.fn.als("stop",a(this).attr("data-id"))},function(){a.fn.als("start",a(this).attr("data-id"))})):"no"==j.autoscroll&&a.fn.als("stop",c),c++,b})},next:function(a){a=e(a);var c=b[a],d=c.mm,h=0,i=0;switch(c.options.orientation){case"horizontal":default:var j=0,k=0;switch(c.options.circular){case"no":default:for(h=c.current;h<c.current+c.options.scrolling_items;h++)j+=c.item.eq(h).outerWidth(!0);for(c.current+=c.options.scrolling_items,i=c.current;i<c.current+c.options.visible_items;i++)k+=c.item.eq(i).outerWidth(!0);c.viewport.animate({width:k},c.options.speed,c.options.easing),c.item.animate({left:"-="+j},c.options.speed,c.options.easing),c.item.promise().done(function(){c.next.on("click touchstart touchend",f),c.prev.on("click touchstart touchend",g),c.viewport.on("touchend",function(a){if(void 0==a.originalEvent.touches)var b=a;else var b=a.originalEvent.touches[0]||a.originalEvent.changedTouches[0];d.dx=b.pageX-d.ox,d.dy=b.pageY-d.oy,d.endTime=(new Date).getTime()-d.startTime,"horizontal"==c.options.orientation?d.dx<-d.swipeTreshold&&d.endTime<d.allowedTime?c.current+c.options.visible_items<c.num_items&&f(a,c.viewport):d.dx>d.swipeTreshold&&d.endTime<d.allowedTime&&c.current>0&&g(a,c.viewport):d.dy<-d.swipeTreshold&&d.endTime<d.allowedTime?c.current+c.options.visible_items<c.num_items&&f(a,c.viewport):d.dy>d.swipeTreshold&&d.endTime<d.allowedTime&&c.current>0&&g(a,c.viewport)})}),c.current>0&&c.prev.show(),c.current+c.options.visible_items>=c.num_items&&c.next.hide();break;case"yes":var l=0,m=[];for(h=c.current;h<c.current+c.options.scrolling_items;h++){var n=h;h>=c.num_items&&(n=h-c.num_items),j+=c.item.eq(n).outerWidth(!0),m[l]=n,l++}for(c.current+=c.options.scrolling_items,c.current>=c.num_items&&(c.current-=c.num_items),i=c.current;i<c.current+c.options.visible_items;i++){var o=i;i>=c.num_items&&(o=i-c.num_items),k+=c.item.eq(o).outerWidth(!0)}c.viewport.animate({width:k},c.options.speed,c.options.easing),c.item.animate({left:"-="+j},c.options.speed,c.options.easing),c.item.promise().done(function(){var a=c.item.last().position(),b=a.left+c.item.last().outerWidth(!0);for(k5=0;k5<m.length;k5++){if(0==m[k5])var a=c.item.last().position(),b=a.left+c.item.last().outerWidth(!0);c.item.eq(m[k5]).css("left",b)}c.next.on("click touchstart touchend",f),c.prev.on("click touchstart touchend",g),c.viewport.on("touchend",function(a){if(void 0==a.originalEvent.touches)var b=a;else var b=a.originalEvent.touches[0]||a.originalEvent.changedTouches[0];d.dx=b.pageX-d.ox,d.dy=b.pageY-d.oy,d.endTime=(new Date).getTime()-d.startTime,"horizontal"==c.options.orientation?d.dx<-d.swipeTreshold&&d.endTime<d.allowedTime?f(a,c.viewport):d.dx>d.swipeTreshold&&d.endTime<d.allowedTime&&g(a,c.viewport):d.dy<-d.swipeTreshold&&d.endTime<d.allowedTime?f(a,c.viewport):d.dy>d.swipeTreshold&&d.endTime<d.allowedTime&&g(a,c.viewport)})})}break;case"vertical":var p=0,q=0;switch(c.options.circular){case"no":default:for(h=c.current;h<c.current+c.options.scrolling_items;h++)p+=c.item.eq(h).outerHeight(!0);for(c.current+=c.options.scrolling_items,i=c.current;i<c.current+c.options.visible_items;i++)q+=c.item.eq(i).outerHeight(!0);c.viewport.animate({height:q},c.options.speed,c.options.easing),c.item.animate({top:"-="+p},c.options.speed,c.options.easing),c.item.promise().done(function(){c.next.on("click touchstart touchend",f),c.prev.on("click touchstart touchend",g),c.viewport.on("touchend",function(a){if(void 0==a.originalEvent.touches)var b=a;else var b=a.originalEvent.touches[0]||a.originalEvent.changedTouches[0];d.dx=b.pageX-d.ox,d.dy=b.pageY-d.oy,d.endTime=(new Date).getTime()-d.startTime,"horizontal"==c.options.orientation?d.dx<-d.swipeTreshold&&d.endTime<d.allowedTime?c.current+c.options.visible_items<c.num_items&&f(a,c.viewport):d.dx>d.swipeTreshold&&d.endTime<d.allowedTime&&c.current>0&&g(a,c.viewport):d.dy<-d.swipeTreshold&&d.endTime<d.allowedTime?c.current+c.options.visible_items<c.num_items&&f(a,c.viewport):d.dy>d.swipeTreshold&&d.endTime<d.allowedTime&&c.current>0&&g(a,c.viewport)})}),c.current>0&&c.prev.show(),c.current+c.options.visible_items>=c.num_items&&c.next.hide();break;case"yes":var l=0,m=[];for(h=c.current;h<c.current+c.options.scrolling_items;h++){var n=h;h>=c.num_items&&(n=h-c.num_items),p+=c.item.eq(n).outerHeight(!0),m[l]=n,l++}for(c.current+=c.options.scrolling_items,c.current>=c.num_items&&(c.current-=c.num_items),i=c.current;i<c.current+c.options.visible_items;i++){var o=i;i>=c.num_items&&(o=i-c.num_items),q+=c.item.eq(o).outerHeight(!0)}c.viewport.animate({height:q}),c.item.animate({top:"-="+p}),c.item.promise().done(function(){var a=c.item.last().position(),b=a.top+c.item.last().outerHeight(!0);for(k5=0;k5<m.length;k5++){if(0==m[k5])var a=c.item.last().position(),b=a.top+c.item.last().outerHeight(!0);c.item.eq(m[k5]).css("top",b)}c.next.on("click touchstart touchend",f),c.prev.on("click touchstart touchend",g),c.viewport.on("touchend",function(a){if(void 0==a.originalEvent.touches)var b=a;else var b=a.originalEvent.touches[0]||a.originalEvent.changedTouches[0];d.dx=b.pageX-d.ox,d.dy=b.pageY-d.oy,d.endTime=(new Date).getTime()-d.startTime,"horizontal"==c.options.orientation?d.dx<-d.swipeTreshold&&d.endTime<d.allowedTime?f(a,c.viewport):d.dx>d.swipeTreshold&&d.endTime<d.allowedTime&&g(a,c.viewport):d.dy<-d.swipeTreshold&&d.endTime<d.allowedTime?f(a,c.viewport):d.dy>d.swipeTreshold&&d.endTime<d.allowedTime&&g(a,c.viewport)})})}}return b[a]=c,b},prev:function(a){a=e(a);var c=b[a],d=c.mm,h=0,i=0;switch(c.options.orientation){case"horizontal":default:var j=0,k=0;switch(c.options.circular){case"no":default:for(c.current-=c.options.scrolling_items,h=c.current;h<c.current+c.options.scrolling_items;h++)j+=c.item.eq(h).outerWidth(!0);for(i=c.current;i<c.current+c.options.visible_items;i++)k+=c.item.eq(i).outerWidth(!0);c.viewport.animate({width:k}),c.item.animate({left:"+="+j},c.options.speed,c.options.easing),c.item.promise().done(function(){c.next.on("click touchstart touchend",f),c.prev.on("click touchstart touchend",g),c.viewport.on("touchend",function(a){if(void 0==a.originalEvent.touches)var b=a;else var b=a.originalEvent.touches[0]||a.originalEvent.changedTouches[0];d.dx=b.pageX-d.ox,d.dy=b.pageY-d.oy,d.endTime=(new Date).getTime()-d.startTime,"horizontal"==c.options.orientation?d.dx<-d.swipeTreshold&&d.endTime<d.allowedTime?c.current+c.options.visible_items<c.num_items&&f(a,c.viewport):d.dx>d.swipeTreshold&&d.endTime<d.allowedTime&&c.current>0&&g(a,c.viewport):d.dy<-d.swipeTreshold&&d.endTime<d.allowedTime?c.current+c.options.visible_items<c.num_items&&f(a,c.viewport):d.dy>d.swipeTreshold&&d.endTime<d.allowedTime&&c.current>0&&g(a,c.viewport)})}),c.current<=0&&c.prev.hide(),c.current+c.options.visible_items<c.num_items&&c.next.show();break;case"yes":var l=0,m=[];for(c.current-=c.options.scrolling_items,c.current<0&&(c.current+=c.num_items),h=c.current;h<c.current+c.options.scrolling_items;h++){var n=h;h>=c.num_items&&(n=h-c.num_items),j+=c.item.eq(n).outerWidth(!0),m[l]=n,l++}for(i=c.current;i<c.current+c.options.visible_items;i++){var o=i;i>=c.num_items&&(o=i-c.num_items),k+=c.item.eq(o).outerWidth(!0)}var p=c.item.first().position(),q=p.left-c.wrapper_width;for(k5=0;k5<m.length;k5++)if(c.item.eq(m[k5]).css("left",q),0==m[k5]){var r=c.item.eq(0).position(),s=r.left-c.wrapper_width;for(k6=0;k6<k5;k6++)c.item.eq(m[k6]).css("left",s)}setTimeout(function(){c.viewport.animate({width:k}),c.item.animate({left:"+="+j},c.options.speed,c.options.easing),c.item.promise().done(function(){c.next.on("click touchstart touchend",f),c.prev.on("click touchstart touchend",g),c.viewport.on("touchend",function(a){if(void 0==a.originalEvent.touches)var b=a;else var b=a.originalEvent.touches[0]||a.originalEvent.changedTouches[0];d.dx=b.pageX-d.ox,d.dy=b.pageY-d.oy,d.endTime=(new Date).getTime()-d.startTime,"horizontal"==c.options.orientation?d.dx<-d.swipeTreshold&&d.endTime<d.allowedTime?f(a,c.viewport):d.dx>d.swipeTreshold&&d.endTime<d.allowedTime&&g(a,c.viewport):d.dy<-d.swipeTreshold&&d.endTime<d.allowedTime?f(a,c.viewport):d.dy>d.swipeTreshold&&d.endTime<d.allowedTime&&g(a,c.viewport)})})},200)}break;case"vertical":var t=0,u=0;switch(c.options.circular){case"no":default:for(c.current-=c.options.scrolling_items,h=c.current;h<c.current+c.options.scrolling_items;h++)t+=c.item.eq(h).outerHeight(!0);for(i=c.current;i<c.current+c.options.visible_items;i++)u+=c.item.eq(i).outerHeight(!0);c.viewport.animate({height:u}),c.item.animate({top:"+="+t},c.options.speed,c.options.easing),c.item.promise().done(function(){c.next.on("click touchstart touchend",f),c.prev.on("click touchstart touchend",g),c.viewport.on("touchend",function(a){if(void 0==a.originalEvent.touches)var b=a;else var b=a.originalEvent.touches[0]||a.originalEvent.changedTouches[0];d.dx=b.pageX-d.ox,d.dy=b.pageY-d.oy,d.endTime=(new Date).getTime()-d.startTime,"horizontal"==c.options.orientation?d.dx<-d.swipeTreshold&&d.endTime<d.allowedTime?c.current+c.options.visible_items<c.num_items&&f(a,c.viewport):d.dx>d.swipeTreshold&&d.endTime<d.allowedTime&&c.current>0&&g(a,c.viewport):d.dy<-d.swipeTreshold&&d.endTime<d.allowedTime?c.current+c.options.visible_items<c.num_items&&f(a,c.viewport):d.dy>d.swipeTreshold&&d.endTime<d.allowedTime&&c.current>0&&g(a,c.viewport)})}),c.current<=0&&c.prev.hide(),c.current+c.options.visible_items<c.num_items&&c.next.show();break;case"yes":var l=0,m=[];for(c.current-=c.options.scrolling_items,c.current<0&&(c.current+=c.num_items),h=c.current;h<c.current+c.options.scrolling_items;h++){var n=h;h>=c.num_items&&(n=h-c.num_items),t+=c.item.eq(n).outerHeight(!0),m[l]=n,l++}for(i=c.current;i<c.current+c.options.visible_items;i++){var o=i;i>=c.num_items&&(o=i-c.num_items),u+=c.item.eq(o).outerHeight(!0)}var p=c.item.first().position(),v=p.top-c.wrapper_height;for(k5=0;k5<m.length;k5++)if(c.item.eq(m[k5]).css("top",v),0==m[k5]){var r=c.item.eq(0).position(),w=r.top-c.wrapper_height;for(k6=0;k6<k5;k6++)c.item.eq(m[k6]).css("top",w)}setTimeout(function(){c.viewport.animate({height:u},c.options.speed,c.options.easing),c.item.animate({top:"+="+t},c.options.speed,c.options.easing),c.item.promise().done(function(){c.next.on("click touchstart touchend",f),c.prev.on("click touchstart touchend",g),c.viewport.on("touchend",function(a){if(void 0==a.originalEvent.touches)var b=a;else var b=a.originalEvent.touches[0]||a.originalEvent.changedTouches[0];d.dx=b.pageX-d.ox,d.dy=b.pageY-d.oy,d.endTime=(new Date).getTime()-d.startTime,"horizontal"==c.options.orientation?d.dx<-d.swipeTreshold&&d.endTime<d.allowedTime?f(a,c.viewport):d.dx>d.swipeTreshold&&d.endTime<d.allowedTime&&g(a,c.viewport):d.dy<-d.swipeTreshold&&d.endTime<d.allowedTime?f(a,c.viewport):d.dy>d.swipeTreshold&&d.endTime<d.allowedTime&&g(a,c.viewport)})})},200)}}return b[a]=c,b},start:function(c){c=e(c);var d=b[c];switch(0!=d.timer&&clearInterval(d.timer),d.options.direction){case"left":case"up":default:d.timer=setInterval(function(){d.next.off(),d.prev.off(),d.viewport.off("touchend"),a.fn.als("next",c)},d.options.interval);break;case"right":case"down":d.timer=setInterval(function(){d.prev.off(),d.next.off(),d.viewport.off("touchend"),a.fn.als("prev",c)},d.options.interval)}return b[c]=d,b},stop:function(a){a=e(a);var c=b[a];return clearInterval(c.timer),b[a]=c,b},destroy:function(){id=e(a(this).attr("data-id"));var c=b[id];c.prev.off(),c.next.off(),c.viewport.off(),a.fn.als("stop",id),a.removeData(c,"als"),this.unbind(),this.element=null}};a.fn.als=function(b){return d[b]?d[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?void a.error("Method "+b+" does not exist on jQuery.als"):d.init.apply(this,arguments)}}(jQuery);